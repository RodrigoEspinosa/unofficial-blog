{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useForm } from \"react-hook-form\";\nimport { useState } from \"react\";\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport Head from 'next/head';\n\nvar Choose = function Choose() {\n  var _useState = useState(\"\"),\n      show = _useState[0],\n      setShow = _useState[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var onSubmit = function onSubmit(data) {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(setShow(data.name));\n\n          case 2:\n            console.log(show);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var PostLink = function PostLink(props) {\n    return __jsx(Link, {\n      href: \"/[id]\",\n      as: \"/\".concat(props.id)\n    }, __jsx(\"a\", null, \"Let's go!\"));\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-3325692028\" + \" \" + \"indexContainer\"\n  }, __jsx(Head, null, __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css2?family=Manrope:wght@300\",\n    rel: \"stylesheet\",\n    className: \"jsx-3325692028\"\n  })), __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    className: \"jsx-3325692028\" + \" \" + \"indexForm\"\n  }, __jsx(\"label\", {\n    className: \"jsx-3325692028\"\n  }, \"Pick a show:\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Mad Men, The Wire...\",\n    ref: register({\n      required: true,\n      validate: function validate(value) {\n        var res, data;\n        return _regeneratorRuntime.async(function validate$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regeneratorRuntime.awrap(fetch(\"https://api.tvmaze.com/singlesearch/shows?q=\".concat(value)));\n\n              case 2:\n                res = _context2.sent;\n\n                if (!res.ok) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 6;\n                return _regeneratorRuntime.awrap(res.json());\n\n              case 6:\n                data = _context2.sent;\n                console.log(data.name);\n                return _context2.abrupt(\"return\", data.name.length > 0);\n\n              case 11:\n                setShow(\"\");\n                return _context2.abrupt(\"return\", __jsx(\"p\", {\n                  className: \"jsx-3325692028\"\n                }, \"Don't be silly!\"));\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    }),\n    className: \"jsx-3325692028\" + \" \" + \"input\"\n  }), errors.name && __jsx(\"p\", {\n    className: \"jsx-3325692028\" + \" \" + \"error\"\n  }, \"Don't be silly! That's not a show...\"), __jsx(\"div\", {\n    className: \"jsx-3325692028\"\n  }, show ? __jsx(\"noimg\", {\n    className: \"jsx-3325692028\"\n  }) : __jsx(\"input\", {\n    type: \"submit\",\n    value: \"I'm ready\",\n    className: \"jsx-3325692028\" + \" \" + \"button\"\n  })), __jsx(\"div\", {\n    key: show,\n    className: \"jsx-3325692028\"\n  }, show.length > 0 ? __jsx(\"div\", {\n    className: \"jsx-3325692028\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3325692028\" + \" \" + \"link\"\n  }, __jsx(PostLink, {\n    id: show,\n    className: \"jsx-3325692028\"\n  })), \" \", __jsx(\"p\", {\n    className: \"jsx-3325692028\" + \" \" + \"quote\"\n  }, \"\\\"Wild Thoughts\\\" - Dj Khaled, 2017\")) : __jsx(\"p\", {\n    className: \"jsx-3325692028\"\n  }, \"Please!\"))), __jsx(_JSXStyle, {\n    id: \"3325692028\"\n  }, [\".indexContainer.jsx-3325692028{position:absolute;top:0;left:0;width:100%;height:100%;background-color:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:'Manrope',sans-serif;-webkit-letter-spacing:0.4px;-moz-letter-spacing:0.4px;-ms-letter-spacing:0.4px;letter-spacing:0.4px;}\", \".indexForm.jsx-3325692028{background-color:#33C7DE;margin-bottom:6vh;padding:10px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-jusfity-content:space-between;-ms-flex-pack:justify;jusfity-content:space-between;height:35vh;width:20vw;}\", \"input.jsx-3325692028{padding:10px;}\", \".indexForm.jsx-3325692028>*.jsx-3325692028{margin:10px;}\", \".button.jsx-3325692028{display:inline-block;padding:0.35em 1.2em;font-size:13px;border:0.1em solid #FFFFFF;margin:1em 0.3em 0.3em 0;border-radius:0.12em;box-sizing:border-box;-webkit-text-decoration:none;text-decoration:none;background-color:transparent;font-weight:300;color:#FFFFFF;text-align:center;-webkit-transition:all 0.2s;transition:all 0.2s;}\", \".button.jsx-3325692028:hover{color:#000000;background-color:#FFFFFF;}\", \".quote.jsx-3325692028{font-size:11px;}\", \".error.jsx-3325692028{font-size:11px;}\", \"@media (max-width:800px){.indexForm.jsx-3325692028{width:40vw;font-size:12px;}.quote.jsx-3325692028{font-size:10px;}}\"]));\n};\n\nexport default Choose;","map":null,"metadata":{},"sourceType":"module"}